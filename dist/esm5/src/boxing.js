export function isBoxed(value) {
    return !!value && value.__boxed === '';
}
export function box(value) {
    return {
        __boxed: '',
        value: value,
    };
}
export function unbox(value) {
    if (['string', 'boolean', 'number', 'undefined'].indexOf(typeof value) >= 0 || value === null) {
        return value;
    }
    if (isBoxed(value)) {
        return value.value;
    }
    if (Array.isArray(value)) {
        return value.map(unbox);
    }
    return Object.keys(value).reduce(function (a, k) {
        var _a;
        return Object.assign(a, (_a = {}, _a[k] = unbox(value[k]), _a));
    }, {});
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm94aW5nLmpzIiwic291cmNlUm9vdCI6Im5nOi8vbmdyeC1mb3Jtcy8iLCJzb3VyY2VzIjpbInNyYy9ib3hpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBc0JBLE1BQU0sVUFBVSxPQUFPLENBQVUsS0FBVTtJQUN6QyxPQUFPLENBQUMsQ0FBQyxLQUFLLElBQUssS0FBb0IsQ0FBQyxPQUFPLEtBQUssRUFBRSxDQUFDO0FBQ3pELENBQUM7QUFFRCxNQUFNLFVBQVUsR0FBRyxDQUFJLEtBQVE7SUFDN0IsT0FBTztRQUNMLE9BQU8sRUFBRSxFQUFFO1FBQ1gsS0FBSyxPQUFBO0tBQ04sQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLFVBQVUsS0FBSyxDQUFJLEtBQVE7SUFDL0IsSUFBSSxDQUFDLFFBQVEsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssSUFBSSxFQUFFO1FBQzdGLE9BQU8sS0FBOEIsQ0FBQztLQUN2QztJQUVELElBQUksT0FBTyxDQUFJLEtBQUssQ0FBQyxFQUFFO1FBQ3JCLE9BQU8sS0FBSyxDQUFDLEtBQThCLENBQUM7S0FDN0M7SUFFRCxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDeEIsT0FBUSxLQUFhLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBZSxDQUFDO0tBQ2hEO0lBRUQsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQVksQ0FBQyxDQUFDLE1BQU0sQ0FDckMsVUFBQyxDQUFDLEVBQUUsQ0FBQzs7UUFBSyxPQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFJLEdBQUMsQ0FBQyxJQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBWSxDQUFRLENBQUMsTUFBRztJQUE1RCxDQUE0RCxFQUN0RSxFQUFTLENBQ0ksQ0FBQztBQUNsQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBCb3hlZDxUPiB7XG4gIF9fYm94ZWQ6ICcnO1xuICB2YWx1ZTogVDtcbn1cblxuZXhwb3J0IHR5cGUgVW5ib3hlZE9iamVjdDxUPiA9IHtcbiAgW3Byb3AgaW4ga2V5b2YgVF06IFVuYm94ZWQ8VFtwcm9wXT47XG59O1xuXG5leHBvcnQgdHlwZSBVbmJveGVkPFQ+ID1cbiAgLy8gKGFiKXVzZSAnc3ltYm9sJyB0byBjYXRjaCAnYW55JyB0eXBpbmdcbiAgVCBleHRlbmRzIEJveGVkPHN5bWJvbD4gPyBhbnlcbiAgOiBUIGV4dGVuZHMgQm94ZWQ8aW5mZXIgVT4gPyBVXG4gIDogVCBleHRlbmRzIHN5bWJvbFtdID8gYW55XG4gIDogVCBleHRlbmRzIHN5bWJvbCA/IGFueVxuICA6IFQgZXh0ZW5kcyB1bmRlZmluZWQgPyB1bmRlZmluZWRcbiAgOiBUIGV4dGVuZHMgbnVsbCA/IG51bGxcbiAgOiBUIGV4dGVuZHMgc3RyaW5nID8gc3RyaW5nXG4gIDogVCBleHRlbmRzIG51bWJlciA/IG51bWJlclxuICA6IFQgZXh0ZW5kcyBib29sZWFuID8gYm9vbGVhblxuICA6IFVuYm94ZWRPYmplY3Q8VD47XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0JveGVkPFQgPSBhbnk+KHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBCb3hlZDxUPiB7XG4gIHJldHVybiAhIXZhbHVlICYmICh2YWx1ZSBhcyBCb3hlZDxhbnk+KS5fX2JveGVkID09PSAnJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJveDxUPih2YWx1ZTogVCk6IEJveGVkPFQ+IHtcbiAgcmV0dXJuIHtcbiAgICBfX2JveGVkOiAnJyxcbiAgICB2YWx1ZSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuYm94PFQ+KHZhbHVlOiBUKTogVW5ib3hlZDxUPiB7XG4gIGlmIChbJ3N0cmluZycsICdib29sZWFuJywgJ251bWJlcicsICd1bmRlZmluZWQnXS5pbmRleE9mKHR5cGVvZiB2YWx1ZSkgPj0gMCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSBhcyB1bmtub3duIGFzIFVuYm94ZWQ8VD47XG4gIH1cblxuICBpZiAoaXNCb3hlZDxUPih2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUudmFsdWUgYXMgdW5rbm93biBhcyBVbmJveGVkPFQ+O1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuICh2YWx1ZSBhcyBhbnkpLm1hcCh1bmJveCkgYXMgVW5ib3hlZDxUPjtcbiAgfVxuXG4gIHJldHVybiBPYmplY3Qua2V5cyh2YWx1ZSBhcyBhbnkpLnJlZHVjZShcbiAgICAoYSwgaykgPT4gT2JqZWN0LmFzc2lnbihhLCB7IFtrXTogdW5ib3godmFsdWVbayBhcyBrZXlvZiBUXSBhcyBhbnkpIH0pLFxuICAgIHt9IGFzIGFueSxcbiAgKSBhcyBVbmJveGVkPFQ+O1xufVxuIl19