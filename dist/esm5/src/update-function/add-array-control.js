import { AddArrayControlAction } from '../actions';
import { formArrayReducer } from '../array/reducer';
import { isArrayState } from '../state';
import { ensureState } from './util';
export function addArrayControl(valueOrState, indexOrValue, index) {
    if (isArrayState(valueOrState)) {
        return formArrayReducer(valueOrState, new AddArrayControlAction(valueOrState.id, indexOrValue, index));
    }
    return function (s) { return addArrayControl(ensureState(s), valueOrState, indexOrValue); };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWRkLWFycmF5LWNvbnRyb2wuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3J4LWZvcm1zLyIsInNvdXJjZXMiOlsic3JjL3VwZGF0ZS1mdW5jdGlvbi9hZGQtYXJyYXktY29udHJvbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDbkQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDcEQsT0FBTyxFQUFrQixZQUFZLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDeEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQWNyQyxNQUFNLFVBQVUsZUFBZSxDQUFTLFlBQTZDLEVBQUUsWUFBeUMsRUFBRSxLQUFjO0lBQzlJLElBQUksWUFBWSxDQUFDLFlBQVksQ0FBQyxFQUFFO1FBQzlCLE9BQU8sZ0JBQWdCLENBQUMsWUFBWSxFQUFFLElBQUkscUJBQXFCLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxZQUFzQixFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7S0FDbEg7SUFFRCxPQUFPLFVBQUMsQ0FBeUIsSUFBSyxPQUFBLGVBQWUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQUUsWUFBc0IsRUFBRSxZQUFzQixDQUFDLEVBQS9FLENBQStFLENBQUM7QUFDeEgsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFkZEFycmF5Q29udHJvbEFjdGlvbiB9IGZyb20gJy4uL2FjdGlvbnMnO1xuaW1wb3J0IHsgZm9ybUFycmF5UmVkdWNlciB9IGZyb20gJy4uL2FycmF5L3JlZHVjZXInO1xuaW1wb3J0IHsgRm9ybUFycmF5U3RhdGUsIGlzQXJyYXlTdGF0ZSB9IGZyb20gJy4uL3N0YXRlJztcbmltcG9ydCB7IGVuc3VyZVN0YXRlIH0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBUaGlzIHVwZGF0ZSBmdW5jdGlvbiB0YWtlcyBhIHZhbHVlIGFuZCBvcHRpb25hbGx5IGFuIGluZGV4IGFuZCByZXR1cm5zIGEgcHJvamVjdGlvbiBmdW5jdGlvblxuICogdGhhdCBhZGRzIGEgY2hpbGQgY29udHJvbCBhdCB0aGUgZ2l2ZW4gaW5kZXggb3IgYXQgdGhlIGVuZCBvZiBhIGZvcm0gYXJyYXkgc3RhdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRBcnJheUNvbnRyb2w8VFZhbHVlPih2YWx1ZTogVFZhbHVlLCBpbmRleD86IG51bWJlcik6IChzdGF0ZTogRm9ybUFycmF5U3RhdGU8VFZhbHVlPikgPT4gRm9ybUFycmF5U3RhdGU8VFZhbHVlPjtcblxuLyoqXG4gKiBUaGlzIHVwZGF0ZSBmdW5jdGlvbiB0YWtlcyBhbiBhcnJheSBmb3JtIHN0YXRlLCBhIHZhbHVlLCBhbmQgb3B0aW9uYWxseSBhbiBpbmRleCBhbmQgYWRkcyBhXG4gKiBjaGlsZCBjb250cm9sIGF0IHRoZSBnaXZlbiBpbmRleCBvciBhdCB0aGUgZW5kIG9mIHRoZSBzdGF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEFycmF5Q29udHJvbDxUVmFsdWU+KHN0YXRlOiBGb3JtQXJyYXlTdGF0ZTxUVmFsdWU+LCB2YWx1ZTogVFZhbHVlLCBpbmRleD86IG51bWJlcik6IEZvcm1BcnJheVN0YXRlPFRWYWx1ZT47XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRBcnJheUNvbnRyb2w8VFZhbHVlPih2YWx1ZU9yU3RhdGU6IFRWYWx1ZSB8IEZvcm1BcnJheVN0YXRlPFRWYWx1ZT4sIGluZGV4T3JWYWx1ZTogbnVtYmVyIHwgVFZhbHVlIHwgdW5kZWZpbmVkLCBpbmRleD86IG51bWJlcikge1xuICBpZiAoaXNBcnJheVN0YXRlKHZhbHVlT3JTdGF0ZSkpIHtcbiAgICByZXR1cm4gZm9ybUFycmF5UmVkdWNlcih2YWx1ZU9yU3RhdGUsIG5ldyBBZGRBcnJheUNvbnRyb2xBY3Rpb24odmFsdWVPclN0YXRlLmlkLCBpbmRleE9yVmFsdWUgYXMgVFZhbHVlLCBpbmRleCkpO1xuICB9XG5cbiAgcmV0dXJuIChzOiBGb3JtQXJyYXlTdGF0ZTxUVmFsdWU+KSA9PiBhZGRBcnJheUNvbnRyb2woZW5zdXJlU3RhdGUocyksIHZhbHVlT3JTdGF0ZSBhcyBUVmFsdWUsIGluZGV4T3JWYWx1ZSBhcyBudW1iZXIpO1xufVxuIl19