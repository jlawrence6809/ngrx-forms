import { formArrayReducer } from '../array/reducer';
import { formControlReducer } from '../control/reducer';
import { formGroupReducer } from '../group/reducer';
import { isArrayState, isGroupState } from '../state';
export function abstractControlReducer(state, action) {
    if (isArrayState(state)) {
        return formArrayReducer(state, action);
    }
    if (isGroupState(state)) {
        return formGroupReducer(state, action);
    }
    return formControlReducer(state, action);
}
export function compose() {
    var fns = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        fns[_i] = arguments[_i];
    }
    return function (t) { return fns.reduce(function (res, f) { return f(res); }, t); };
}
export function ensureState(state) {
    if (!state) {
        throw new Error('state must not be undefined!');
    }
    return state;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25ncngtZm9ybXMvIiwic291cmNlcyI6WyJzcmMvdXBkYXRlLWZ1bmN0aW9uL3V0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDcEQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDeEQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDcEQsT0FBTyxFQUF3QixZQUFZLEVBQUUsWUFBWSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBSzVFLE1BQU0sVUFBVSxzQkFBc0IsQ0FBUyxLQUFtQyxFQUFFLE1BQWM7SUFDaEcsSUFBSSxZQUFZLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDdkIsT0FBTyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsTUFBYSxDQUFRLENBQUM7S0FDdEQ7SUFFRCxJQUFJLFlBQVksQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUN2QixPQUFPLGdCQUFnQixDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztLQUN4QztJQUVELE9BQU8sa0JBQWtCLENBQUMsS0FBWSxFQUFFLE1BQU0sQ0FBUSxDQUFDO0FBQ3pELENBQUM7QUFFRCxNQUFNLFVBQVUsT0FBTztJQUFJLGFBQXVCO1NBQXZCLFVBQXVCLEVBQXZCLHFCQUF1QixFQUF2QixJQUF1QjtRQUF2Qix3QkFBdUI7O0lBQ2hELE9BQU8sVUFBQyxDQUFJLElBQUssT0FBQSxHQUFHLENBQUMsTUFBTSxDQUFDLFVBQUMsR0FBRyxFQUFFLENBQUMsSUFBSyxPQUFBLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBTixDQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQWpDLENBQWlDLENBQUM7QUFDckQsQ0FBQztBQUVELE1BQU0sVUFBVSxXQUFXLENBQVMsS0FBeUI7SUFDM0QsSUFBSSxDQUFDLEtBQUssRUFBRTtRQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQThCLENBQUMsQ0FBQztLQUNqRDtJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGlvbiB9IGZyb20gJ0BuZ3J4L3N0b3JlJztcblxuaW1wb3J0IHsgZm9ybUFycmF5UmVkdWNlciB9IGZyb20gJy4uL2FycmF5L3JlZHVjZXInO1xuaW1wb3J0IHsgZm9ybUNvbnRyb2xSZWR1Y2VyIH0gZnJvbSAnLi4vY29udHJvbC9yZWR1Y2VyJztcbmltcG9ydCB7IGZvcm1Hcm91cFJlZHVjZXIgfSBmcm9tICcuLi9ncm91cC9yZWR1Y2VyJztcbmltcG9ydCB7IEFic3RyYWN0Q29udHJvbFN0YXRlLCBpc0FycmF5U3RhdGUsIGlzR3JvdXBTdGF0ZSB9IGZyb20gJy4uL3N0YXRlJztcblxuZXhwb3J0IHR5cGUgUHJvamVjdEZuPFQ+ID0gKHQ6IFQpID0+IFQ7XG5leHBvcnQgdHlwZSBQcm9qZWN0Rm4yPFQsIEs+ID0gKHQ6IFQsIGs6IEspID0+IFQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBhYnN0cmFjdENvbnRyb2xSZWR1Y2VyPFRWYWx1ZT4oc3RhdGU6IEFic3RyYWN0Q29udHJvbFN0YXRlPFRWYWx1ZT4sIGFjdGlvbjogQWN0aW9uKTogQWJzdHJhY3RDb250cm9sU3RhdGU8VFZhbHVlPiB7XG4gIGlmIChpc0FycmF5U3RhdGUoc3RhdGUpKSB7XG4gICAgcmV0dXJuIGZvcm1BcnJheVJlZHVjZXIoc3RhdGUsIGFjdGlvbiBhcyBhbnkpIGFzIGFueTtcbiAgfVxuXG4gIGlmIChpc0dyb3VwU3RhdGUoc3RhdGUpKSB7XG4gICAgcmV0dXJuIGZvcm1Hcm91cFJlZHVjZXIoc3RhdGUsIGFjdGlvbik7XG4gIH1cblxuICByZXR1cm4gZm9ybUNvbnRyb2xSZWR1Y2VyKHN0YXRlIGFzIGFueSwgYWN0aW9uKSBhcyBhbnk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wb3NlPFQ+KC4uLmZuczogKCh0OiBUKSA9PiBUKVtdKSB7XG4gIHJldHVybiAodDogVCkgPT4gZm5zLnJlZHVjZSgocmVzLCBmKSA9PiBmKHJlcyksIHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlU3RhdGU8VFN0YXRlPihzdGF0ZTogVFN0YXRlIHwgdW5kZWZpbmVkKTogVFN0YXRlIHtcbiAgaWYgKCFzdGF0ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignc3RhdGUgbXVzdCBub3QgYmUgdW5kZWZpbmVkIScpO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuIl19