import { AddArrayControlAction } from '../actions';
import { formArrayReducer } from '../array/reducer';
import { isArrayState } from '../state';
import { ensureState } from './util';
export function addArrayControl(valueOrState, indexOrValue, index) {
    if (isArrayState(valueOrState)) {
        return formArrayReducer(valueOrState, new AddArrayControlAction(valueOrState.id, indexOrValue, index));
    }
    return (s) => addArrayControl(ensureState(s), valueOrState, indexOrValue);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWRkLWFycmF5LWNvbnRyb2wuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3J4LWZvcm1zLyIsInNvdXJjZXMiOlsic3JjL3VwZGF0ZS1mdW5jdGlvbi9hZGQtYXJyYXktY29udHJvbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDbkQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDcEQsT0FBTyxFQUFrQixZQUFZLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDeEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQWNyQyxNQUFNLFVBQVUsZUFBZSxDQUFTLFlBQTZDLEVBQUUsWUFBeUMsRUFBRSxLQUFjO0lBQzlJLElBQUksWUFBWSxDQUFDLFlBQVksQ0FBQyxFQUFFO1FBQzlCLE9BQU8sZ0JBQWdCLENBQUMsWUFBWSxFQUFFLElBQUkscUJBQXFCLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxZQUFzQixFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7S0FDbEg7SUFFRCxPQUFPLENBQUMsQ0FBeUIsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBRSxZQUFzQixFQUFFLFlBQXNCLENBQUMsQ0FBQztBQUN4SCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWRkQXJyYXlDb250cm9sQWN0aW9uIH0gZnJvbSAnLi4vYWN0aW9ucyc7XG5pbXBvcnQgeyBmb3JtQXJyYXlSZWR1Y2VyIH0gZnJvbSAnLi4vYXJyYXkvcmVkdWNlcic7XG5pbXBvcnQgeyBGb3JtQXJyYXlTdGF0ZSwgaXNBcnJheVN0YXRlIH0gZnJvbSAnLi4vc3RhdGUnO1xuaW1wb3J0IHsgZW5zdXJlU3RhdGUgfSBmcm9tICcuL3V0aWwnO1xuXG4vKipcbiAqIFRoaXMgdXBkYXRlIGZ1bmN0aW9uIHRha2VzIGEgdmFsdWUgYW5kIG9wdGlvbmFsbHkgYW4gaW5kZXggYW5kIHJldHVybnMgYSBwcm9qZWN0aW9uIGZ1bmN0aW9uXG4gKiB0aGF0IGFkZHMgYSBjaGlsZCBjb250cm9sIGF0IHRoZSBnaXZlbiBpbmRleCBvciBhdCB0aGUgZW5kIG9mIGEgZm9ybSBhcnJheSBzdGF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEFycmF5Q29udHJvbDxUVmFsdWU+KHZhbHVlOiBUVmFsdWUsIGluZGV4PzogbnVtYmVyKTogKHN0YXRlOiBGb3JtQXJyYXlTdGF0ZTxUVmFsdWU+KSA9PiBGb3JtQXJyYXlTdGF0ZTxUVmFsdWU+O1xuXG4vKipcbiAqIFRoaXMgdXBkYXRlIGZ1bmN0aW9uIHRha2VzIGFuIGFycmF5IGZvcm0gc3RhdGUsIGEgdmFsdWUsIGFuZCBvcHRpb25hbGx5IGFuIGluZGV4IGFuZCBhZGRzIGFcbiAqIGNoaWxkIGNvbnRyb2wgYXQgdGhlIGdpdmVuIGluZGV4IG9yIGF0IHRoZSBlbmQgb2YgdGhlIHN0YXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQXJyYXlDb250cm9sPFRWYWx1ZT4oc3RhdGU6IEZvcm1BcnJheVN0YXRlPFRWYWx1ZT4sIHZhbHVlOiBUVmFsdWUsIGluZGV4PzogbnVtYmVyKTogRm9ybUFycmF5U3RhdGU8VFZhbHVlPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEFycmF5Q29udHJvbDxUVmFsdWU+KHZhbHVlT3JTdGF0ZTogVFZhbHVlIHwgRm9ybUFycmF5U3RhdGU8VFZhbHVlPiwgaW5kZXhPclZhbHVlOiBudW1iZXIgfCBUVmFsdWUgfCB1bmRlZmluZWQsIGluZGV4PzogbnVtYmVyKSB7XG4gIGlmIChpc0FycmF5U3RhdGUodmFsdWVPclN0YXRlKSkge1xuICAgIHJldHVybiBmb3JtQXJyYXlSZWR1Y2VyKHZhbHVlT3JTdGF0ZSwgbmV3IEFkZEFycmF5Q29udHJvbEFjdGlvbih2YWx1ZU9yU3RhdGUuaWQsIGluZGV4T3JWYWx1ZSBhcyBUVmFsdWUsIGluZGV4KSk7XG4gIH1cblxuICByZXR1cm4gKHM6IEZvcm1BcnJheVN0YXRlPFRWYWx1ZT4pID0+IGFkZEFycmF5Q29udHJvbChlbnN1cmVTdGF0ZShzKSwgdmFsdWVPclN0YXRlIGFzIFRWYWx1ZSwgaW5kZXhPclZhbHVlIGFzIG51bWJlcik7XG59XG4iXX0=