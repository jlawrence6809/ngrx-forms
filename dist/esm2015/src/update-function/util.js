import { formArrayReducer } from '../array/reducer';
import { formControlReducer } from '../control/reducer';
import { formGroupReducer } from '../group/reducer';
import { isArrayState, isGroupState } from '../state';
export function abstractControlReducer(state, action) {
    if (isArrayState(state)) {
        return formArrayReducer(state, action);
    }
    if (isGroupState(state)) {
        return formGroupReducer(state, action);
    }
    return formControlReducer(state, action);
}
export function compose(...fns) {
    return (t) => fns.reduce((res, f) => f(res), t);
}
export function ensureState(state) {
    if (!state) {
        throw new Error('state must not be undefined!');
    }
    return state;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25ncngtZm9ybXMvIiwic291cmNlcyI6WyJzcmMvdXBkYXRlLWZ1bmN0aW9uL3V0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDcEQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDeEQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDcEQsT0FBTyxFQUF3QixZQUFZLEVBQUUsWUFBWSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBSzVFLE1BQU0sVUFBVSxzQkFBc0IsQ0FBUyxLQUFtQyxFQUFFLE1BQWM7SUFDaEcsSUFBSSxZQUFZLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDdkIsT0FBTyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsTUFBYSxDQUFRLENBQUM7S0FDdEQ7SUFFRCxJQUFJLFlBQVksQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUN2QixPQUFPLGdCQUFnQixDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztLQUN4QztJQUVELE9BQU8sa0JBQWtCLENBQUMsS0FBWSxFQUFFLE1BQU0sQ0FBUSxDQUFDO0FBQ3pELENBQUM7QUFFRCxNQUFNLFVBQVUsT0FBTyxDQUFJLEdBQUcsR0FBb0I7SUFDaEQsT0FBTyxDQUFDLENBQUksRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNyRCxDQUFDO0FBRUQsTUFBTSxVQUFVLFdBQVcsQ0FBUyxLQUF5QjtJQUMzRCxJQUFJLENBQUMsS0FBSyxFQUFFO1FBQ1YsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO0tBQ2pEO0lBRUQsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnQG5ncngvc3RvcmUnO1xuXG5pbXBvcnQgeyBmb3JtQXJyYXlSZWR1Y2VyIH0gZnJvbSAnLi4vYXJyYXkvcmVkdWNlcic7XG5pbXBvcnQgeyBmb3JtQ29udHJvbFJlZHVjZXIgfSBmcm9tICcuLi9jb250cm9sL3JlZHVjZXInO1xuaW1wb3J0IHsgZm9ybUdyb3VwUmVkdWNlciB9IGZyb20gJy4uL2dyb3VwL3JlZHVjZXInO1xuaW1wb3J0IHsgQWJzdHJhY3RDb250cm9sU3RhdGUsIGlzQXJyYXlTdGF0ZSwgaXNHcm91cFN0YXRlIH0gZnJvbSAnLi4vc3RhdGUnO1xuXG5leHBvcnQgdHlwZSBQcm9qZWN0Rm48VD4gPSAodDogVCkgPT4gVDtcbmV4cG9ydCB0eXBlIFByb2plY3RGbjI8VCwgSz4gPSAodDogVCwgazogSykgPT4gVDtcblxuZXhwb3J0IGZ1bmN0aW9uIGFic3RyYWN0Q29udHJvbFJlZHVjZXI8VFZhbHVlPihzdGF0ZTogQWJzdHJhY3RDb250cm9sU3RhdGU8VFZhbHVlPiwgYWN0aW9uOiBBY3Rpb24pOiBBYnN0cmFjdENvbnRyb2xTdGF0ZTxUVmFsdWU+IHtcbiAgaWYgKGlzQXJyYXlTdGF0ZShzdGF0ZSkpIHtcbiAgICByZXR1cm4gZm9ybUFycmF5UmVkdWNlcihzdGF0ZSwgYWN0aW9uIGFzIGFueSkgYXMgYW55O1xuICB9XG5cbiAgaWYgKGlzR3JvdXBTdGF0ZShzdGF0ZSkpIHtcbiAgICByZXR1cm4gZm9ybUdyb3VwUmVkdWNlcihzdGF0ZSwgYWN0aW9uKTtcbiAgfVxuXG4gIHJldHVybiBmb3JtQ29udHJvbFJlZHVjZXIoc3RhdGUgYXMgYW55LCBhY3Rpb24pIGFzIGFueTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvc2U8VD4oLi4uZm5zOiAoKHQ6IFQpID0+IFQpW10pIHtcbiAgcmV0dXJuICh0OiBUKSA9PiBmbnMucmVkdWNlKChyZXMsIGYpID0+IGYocmVzKSwgdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVTdGF0ZTxUU3RhdGU+KHN0YXRlOiBUU3RhdGUgfCB1bmRlZmluZWQpOiBUU3RhdGUge1xuICBpZiAoIXN0YXRlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzdGF0ZSBtdXN0IG5vdCBiZSB1bmRlZmluZWQhJyk7XG4gIH1cblxuICByZXR1cm4gc3RhdGU7XG59XG4iXX0=